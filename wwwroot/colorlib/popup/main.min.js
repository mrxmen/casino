jQuery(document).ready(function(n){function s(){i.children("ul").removeClass("is-visible");t.addClass("is-visible");r.addClass("is-selected");u.removeClass("is-selected");f.removeClass("is-selected");o.addClass("selected");h.removeClass("selected")}function c(){i.children("ul").removeClass("is-visible");t.addClass("is-visible");r.removeClass("is-selected");u.addClass("is-selected");f.removeClass("is-selected");o.removeClass("selected");h.addClass("selected")}function v(){r.removeClass("is-selected");u.removeClass("is-selected");f.addClass("is-selected")}var t=n(".cd-user-modal"),r=t.find("#cd-login"),u=t.find("#cd-signup"),f=t.find("#cd-reset-password"),e=n(".cd-switcher"),o=e.children("li").eq(0).children("a"),h=e.children("li").eq(1).children("a"),l=r.find(".cd-form-bottom-message a"),a=f.find(".cd-form-bottom-message a"),i=n(".main-nav");i.on("click",function(t){n(t.target).is(i)&&i.children("ul").toggleClass("is-visible")});i.on("click",".cd-signup",c);i.on("click",".cd-signin",s);t.on("click",function(i){(n(i.target).is(t)||n(i.target).is(".cd-close-form"))&&t.removeClass("is-visible")});n(document).keyup(function(n){n.which=="27"&&t.removeClass("is-visible")});e.on("click",function(t){t.preventDefault();n(t.target).is(o)?s():c()});n(".hide-password").on("click",function(){var t=n(this),i=t.prev("input");"password"==i.attr("type")?i.attr("type","text"):i.attr("type","password");"Hide"==t.text()?t.text("Show"):t.text("Hide");i.putCursorAtEnd()});l.on("click",function(n){n.preventDefault();v()});a.on("click",function(n){n.preventDefault();s()});r.find('input[type="submit"]').on("click",function(n){n.preventDefault();r.find('input[type="email"]').toggleClass("has-error").next("span").toggleClass("is-visible")});u.find('input[type="submit"]').on("click",function(n){n.preventDefault();u.find('input[type="email"]').toggleClass("has-error").next("span").toggleClass("is-visible")});Modernizr.input.placeholder||(n("[placeholder]").focus(function(){var t=n(this);t.val()==t.attr("placeholder")&&t.val("")}).blur(function(){var t=n(this);(t.val()==""||t.val()==t.attr("placeholder"))&&t.val(t.attr("placeholder"))}).blur(),n("[placeholder]").parents("form").submit(function(){n(this).find("[placeholder]").each(function(){var t=n(this);t.val()==t.attr("placeholder")&&t.val("")})}))});jQuery.fn.putCursorAtEnd=function(){return this.each(function(){if(this.setSelectionRange){var n=$(this).val().length*2;this.focus();this.setSelectionRange(n,n)}else $(this).val($(this).val())})};